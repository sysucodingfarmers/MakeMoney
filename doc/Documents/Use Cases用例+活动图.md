## Use Cases
#### 详细用例 Use Case 1 接单者领取并完成跑腿任务
##### 范围：赚闲钱服务平台
##### 级别：用户目标
##### 主要参与者：接单者
##### 涉众及关注点：
* 接单者： 希望清晰看到所有可接单任务列表与分类、明确的线上线下以及时间地点的安排、报酬、不同的任务应有相关的详细内容描述以及其他特殊要求。希望结束任务后对发布者进行真实有效的评价。
* 发布者：希望及时更新已发布任务信息，了解到接单者的任务完成进度，对任务完成情况进行反馈。
* 临时会话服务：因为接单者与发布者有时间差和理想报酬差等一系列问题，希望提供临时会话服务满足双方及时沟通的需求。
前置条件：接单者必须确保有足够的时间和精力完成任务。
成功保证（后置条件）：存储交易（订单）信息，将报酬打入接单者的微信账户，更新账务信息，提示双方交易完成，并保存互相评价的信息。
##### 主成功场景（或基本流程）：
1.接单者选择线上或线下任务。  
2.接单者通过浏览选择的任务的具体信息选择完成任务或者取消任务。  
3.接单者确认完成任务后，等待等待任务发布者或系统确认，此时对于此任务不可再进行更改。
4.接单者可查看自己的任务。对于已完成的任务可以查看酬金支付情况；对于已报名而未完成的任务可以选择完成或取消任务。
##### 扩展（或替代流程）：
* *a. 用户在使用中意外退出小程序：
    1. 保存当前用户的操作信息
    2. 用户重新进入系统后，系统恢复用户退出的界面信息
 *   *b.  接单后因某些原因需要取消任务：
     1. 返回订单界面点击取消订单
  * *c. 接单者接单后发布者想取消任务：
     1. 若为线上任务，则发布者无法取消任务
     2. 若为线下任务，发布者可与接单者进行协商；若协商失败，双方皆可申诉请求客服介入
  *  *d. 系统友情提示再次确认接受任务
##### 特殊需求：
* 支持文本显示的语言国际化
##### 技术与数据变元表：
可以支持报酬直接微信到账
##### 发生频率：可能会不断发生
##### 未解决问题：
* 如何规避恶意刷单行为
* 如何规避接单者敷衍完成任务行为
* 如何规避发布者的任务过期但未撤销问题
* 如何规避接单者因接受任务后又取消任务而对发布者造成的损失

#### 详细用例 Use Case 2 发布任务者发布任务    
##### 范围：赚闲钱应用   
##### 级别：用户目标    
##### 主要参与者：发布任务者     
##### 涉众及关注点：  
   - 发布任务者：希望便捷、准确地发布任务。希望准确收到接受任务者的任务完成情况。希望确保记录了支付授权服务的支付票据。希望有完善的检测机制保证接受任务者的完成任务情况符合自己的要求。希望能够快速、自动地更新任务的完成情况。  
   - 接受任务者：希望便捷、清晰地看到可选择接受的任务。希望可以快速地看到任务发布者确认任务完成的进度。希望可以快速地收到完成任务所获得的酬金。  
   - 支付授权服务：希望接受到格式和协议正确的数字授权请求。希望准确计算任务发布者的应付款。若支付的酬金有剩余，希望及时准确地返回任务发布者的账户。  
 ##### 前置条件：  
 发布任务者和接受任务者必须通过微信登录认证，且必须通过姓名、学院、学号进行注册。    
 ##### 成功保证（后置条件）：  
 更新任务完成情况。准确计算酬金。记录支付授权的批准。    
 ##### 主成功场景（或基本流程）：  
   1.任务发布者选择发布线上或线下的任务。    
   2.  任务发布者根据选择需要发布的任务填写相应的详细信息。    
   3. 任务发布者确认发布任务，然后去支付相应的酬金。    
   4. 任务发布者可以查看自己发布的任务。对于进行中的任务，查看提交任务的用户的提交结果，若符合要求，则确认该用户的任务完成，系统会自动支付相应的酬金。若到截止时间任务还未完成则退还剩余的酬金。  
   5. 任务发布者结束完成的任务后，查看本次任务完成的结果。若由于某些原因提前结束任务后，可以再次重新发布此次任务。  
##### 扩展（或替代流程）：  
   - *a.任务发布者在填写任务详细信息时意外退出小程序：  
         1.系统保存当前任务发布者填写的信息状态。  
         2.任务发布者重新进入系统后，系统恢复任务发布者退出之前的界面信息。  
   - 3a.系统友情提醒确认任务信息无误。  
       1.原则上进行中的任务不可以编辑，若有用户接受了任务，系统还是会发放酬金（如线上任务）。若想编辑任务，则只能先结束任务。  
   - 4a.若到截止时间任务还未完成，系统会自动结束任务：  
      1.任务发布者可以选择重新发布任务。  
      2. 任务发布者可以按发布一个新任务的流程重新发布一个与此任务相同的任务。   
    - 4b.任务发布者忘记对进行中的任务提交结果的用户进行任务完成确认并发放酬金（如线下任务）：  
         1.系统通过给任务发布者发送消息等提醒其去确认任务完成结果。  
     - 5a.若结束任务查看结果时对任务完成情况不满意：  
         1.任务发布者可以选择重新发布任务。  
##### 特殊要求：  
   - 支持文本显示的语言国际化。  
##### 技术与数据变元表：    
   - 3c.支持微信支付。  
##### 发生频率 ：  
   - 可能会不断地发生。    
##### 未解决的问题：    
   - 用户接受任务而没有去完成，此时其他用户无法接受该任务的问题。  
## 非正式用例
#### Use Case 2.1 完成任务
主成功场景：接单者接受任务后，开始执行任务，等待完成任务后，确认任务完成。等发布者或系统确认完成后，报酬将直接进入接单者的微信钱包。
交替场景：
*  接单者因为某些原因需要取消订单，进入订单界面，点击取消订单。
*  如果与微信支付平台通信失败，此时接单者无法拿到报酬，则界面跳转到订单页面，且订单为未完成状态，此时接单者可以再次点击完成订单。
*  若完成途中发布者请求取消任务，则根据完成情况和进度与发布者进行协商。如果协商未果，可申请服务平台客服介入进行纠纷调解。

用例图：                      
![](https://github.com/sysucodingfarmers/MakeMoney/blob/master/doc/Documents/pictures/非正式用例2.1.png)

活动图：                         
![](https://github.com/sysucodingfarmers/MakeMoney/blob/master/Documents/pictures/%E9%9D%9E%E6%AD%A3%E5%BC%8F%E7%94%A8%E4%BE%8B2.2.png)

#### Use Case 2.2 任务发布者确认发布任务  
##### 主成功场景：  
任务发布者填写完任务的详细信息后，点击确认发布任务，系统提示是否确认发布任务，点击确定后跳转到微信支付界面，系统提示是否确认支付，确认支付后，任务被成功发布。其他用户可以接受此任务。  
##### 交替场景：  
   - 发布任务者发现要修改任务的详细信息，取消支付回到填写任务信息页面，可以进行信息编辑。   
   - 发布任务者确认发布任务成功后发现信息有问题，选择结束任务，重新编辑信息，再次发布。（对于上次发布的任务，系统会返还剩余的酬金）    

用例图：  
![](https://github.com/sysucodingfarmers/MakeMoney/blob/master/Documents/pictures/%E9%9D%9E%E6%AD%A3%E5%BC%8F%E7%94%A8%E4%BE%8B3.1.png)  
活动图：  
![](https://github.com/sysucodingfarmers/MakeMoney/blob/master/Documents/pictures/%E9%9D%9E%E6%AD%A3%E5%BC%8F%E7%94%A8%E4%BE%8B3.2.png)  
## 简述用例
#### Use Case3.1 查看新发布任务
*  Actor: 接单者
*  Type: Primary
*  Description: 打算接任务的用户进入小程序，切换到任务列表，可以点击分类里选择最新发布，然后在任务主界面即可看到最新发布的任务。

#### Use Case3.2 发布新任务   
   - Actor：任务发布者  
   - Type：Primary  
   - Description：用户进入小程序，进入发布任务界面，选择要发布的任务的类型，填写相关信息后，确定发布任务。  
